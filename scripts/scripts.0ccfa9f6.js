"use strict";angular.module("whatShouldIlistenToApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("whatShouldIlistenToApp").controller("MainCtrl",["$scope","Lastfm",function(a,b){a.currentArtist,a.errMsg="",a.artistSearched=!1,a.similarArtists=[],a.returnArtist={},a.formatArtist=function(c){if(void 0!==c){a.errMsg="",a.currentArtist=c.charAt(0).toUpperCase()+c.slice(1);var d;if(-1!=c.indexOf(" ")){var e=c.toLowerCase().split(" ");d=e.join("+")}else d=c.trim();b.getSimilarArtists(d).success(function(c){c.error?(a.errMsg="Sorry, we don't have anything for that artist. Try someone else! ",a.artistSearched=!1):Array.isArray(c.similarartists.artist)?(a.similarArtists=c.similarartists.artist,a.returnArtist=a.similarArtists[Math.floor(50*Math.random())],a.artistSearched=!0):b.getCorrectedArtist(d).success(function(b){var c=b.corrections.correction.artist.name;a.formatArtist(c)})})}else a.errMsg="You gotta enter something first."}}]),angular.module("whatShouldIlistenToApp").service("Lastfm",["$http",function(a){var b={},c="6552cf39ecd08cd6f4dea091068ad539";return b.getSimilarArtists=function(b){return a({method:"JSONP",url:"http://ws.audioscrobbler.com/2.0/?method=artist.getsimilar&artist="+b+"&limit=50&api_key="+c+"&format=json&callback=JSON_CALLBACK"})},b.getCorrectedArtist=function(b){return a({method:"JSONP",url:"http://ws.audioscrobbler.com/2.0/?method=artist.getcorrection&artist="+b+"&api_key="+c+"&format=json&callback=JSON_CALLBACK"})},b.getTopArtistTags=function(b){return a({method:"JSONP",url:"http://ws.audioscrobbler.com/2.0/?method=artist.gettoptags&artist="+b+"&autocorrect=1&api_key="+c+"&format=json&callback=JSON_CALLBACK"})},b.getTopAlbums=function(b){return a({method:"JSONP",url:"http://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&artist="+b+"&api_key="+c+"&format=json&callback=JSON_CALLBACK"})},b}]);